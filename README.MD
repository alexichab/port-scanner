# Многопоточный сканер портов

## Описание

Утилита для сканирования диапазона TCP-портов на заданном IP-адресе с использованием многопоточности (std::async).  
Позволяет различать открытые, закрытые и фильтруемые (firewall) порты.  
Поддерживает фильтрацию вывода, прогресс-бар, вывод в файл, обработку прерывания (Ctrl+C) и справку по опциям.

## Сборка

```bash
make
```

## Использование

```bash
./scanner <ip> <start_port> <end_port> <num_threads> [--open-only] [--output <file>] [--help]
```

- `<ip>` — IP-адрес для сканирования (например, 127.0.0.1)
- `<start_port>` — начальный порт диапазона
- `<end_port>` — конечный порт диапазона 
- `<num_threads>` — количество потоков (например, 2)

### Опции

- `--open-only` — выводить только открытые порты
- `--output <file>` — записать результат в указанный файл
- `--help` — вывести справку по использованию

**Примеры:**
```bash
./scanner 127.0.0.1 8079 8094 2
./scanner 192.168.1.1 20 1024 8 --open-only
./scanner 10.0.0.5 1 1000 4 --output result.txt
./scanner --help
```

## Пример вывода

```bash
Scanning: 100% (16/16)   
Port 8079 is closed
Port 8080 is open
Port 8081 is closed
Port 8082 is closed
Port 8083 is closed
Port 8084 is closed
Port 8085 is filtered
Port 8086 is closed
Port 8087 is closed
Port 8088 is closed
Port 8089 is closed
Port 8090 is closed
Port 8091 is closed
Port 8092 is closed
Port 8093 is closed
Port 8094 is closed
```

## Особенности

- **Фильтрация вывода:** можно вывести только открытые порты с помощью `--open-only`.
- **Прогресс-бар:** отображает процент выполнения сканирования.
- **Вывод в файл:** результаты можно сохранить в файл через `--output <file>`.
- **Обработка SIGINT:** при нажатии Ctrl+C сканирование прерывается, выводятся промежуточные результаты.
- **Справка:** опция `--help` выводит подробную инструкцию по использованию.

## Зависимости

- g++ с поддержкой C++17
- Linux (используются POSIX-сокеты)

## Очистка

```bash
make clean
```
